{% set version = "3.0.3" %}

package:
  name: mock
  version: {{ version }}

source:
  url: https://pypi.python.org/packages/source/m/mock/mock-{{ version }}.tar.gz
  sha256: 5eda46efb363128828d6fd2bf8d16f6ebb66f5b543b9f7f8f4eb224c5cb503fe

build:
  number: 0
  script:
    ###########################################################
    # Delete broken symlink, which causes build to fail.      #
    # xref: https://github.com/testing-cabal/mock/issues/446  #
    ###########################################################
    - del /q docs\\changelog.txt  # [win and py27]
    - "{{ PYTHON }} -m pip install . --no-deps -vv"

requirements:
  host:
    - python
    - pip
    - pbr >=1.3

  run:
    - python
    - pbr >=1.3
    - funcsigs    # [py<33]
    - six

test:
  imports:
    - mock

about:
  home: https://github.com/testing-cabal/mock
  license: BSD 2-Clause
  license_file: LICENSE.txt
  summary: A library for testing in Python

extra:
  recipe-maintainers:
    - jakirkham
    - ocefpaf
